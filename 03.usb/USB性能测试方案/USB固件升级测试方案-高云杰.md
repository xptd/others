# USB固件升级测试方案

## 目的

1. 验证ARM(Wince+A8)一体机USB问题阶段性修复方案的有效性；
2. 对比、量化Linux系统与Wince系统USB性能差异；
3. 对比、量化新代ARM(Wince+A8)一体机与我司ARM(Wince+A8)一体机USB性能差异；
4. 为下阶段USB问题排查提供数据支持。

## 范围

1. 测试指标：

   - 识别率；
   - 识别速度；
   - 读、写速度（以实际客户能使用到的“拷贝文件到本地”和“拷贝文件到移动盘”功能测试）；
   - 最大稳定支持容量；
   - 长时间稳定运行情况；
   - 不同品牌U盘支持情况；
   - 容错能力；

2. 测试机型：
   - 当前我司未停产的ARM(Wince+A8)一体机，NK105E(三轴、四轴)、NK260 A1、NK280B A1;

   - NK210T  ARM(Linux+A8)一体机（**对比测试**）；
   - 新代ARM(Wince+A8)一体机（我司当前现有机型，**对比测试**）；

3. 固件版本：

   - 我司未停产的ARM(Wince+A8)一体机以按照“USB问题阶段性修复方案”修改之后的测试固件进行测试；
   - NK210T  ARM(Linux+A8)一体机以当前服务器获取到的最新版本固件进行测试；
   - 新代ARM(Wince+A8)一体机以我司当前现有机型所配备的固件进行测试；
     - **暂定，后续了解该机型固件管理、升级方式**；

4. 软件版本：

   - 我司未停产的ARM(Wince+A8)一体机以服务器能获取到的最新版本“通用软件”进行测试；
     - 在USB性能、功能方面目前发现只有**”重新插入U盘之后，移动盘页面内容是否自动刷新“**这一功能与不同产品线的软件有关；
     - 当前各产品线软件版本众多，一一测试消耗资源较多且无明显收益；
   - NK210T  ARM(Linux+A8)一体机以当前服务器获取到的最新版本通用软件进行测试；
   - 新代ARM(Wince+A8)一体机以我司当前现有机型所配备的软件进行测试；

5. <span id="udisk">U盘样本</span>：**目前没有数据，后续到公司之后可以将当前已有的U盘信息统计、标号、整理，然后补充该部分内容，同时在各产品的测试用例中要含一个“测试U盘”的sheet必须要包含测试所用U盘的编号、图片等区分信息**）

   - 当前已有的不同品牌、容量U盘：
     
     <table>
         <caption>U盘信息统计</caption>
         <tr>
         	<th>品牌</th>
             <th>容量(GB)</th>
             <th>速度(最大理论速度 bps)</th>
    </tr>
         <!--SanDisk Udisk infomation-->
      <tr>
         	<td>Sandisk</td>
             <td></td>
             <td></td>
         </tr>
         <!--kinstone Udisk infomation-->
      <tr>
         	<td>Kingstone</td>
          <td></td>
             <td></td>
         </tr>
          <!--Aigo Udisk infomation-->
         <tr>
         	<td>Aigo</td></td>
             <td></td>
             <td></td>
         </tr>
         <!--Aigo 安国 infomation-->
         <tr>
         	<td>安国</td>
             <td></td>
             <td></td>
         </tr>
          <!--Aigo 飚王 infomation-->
         <tr>
         	<td>飚王</td>
             <td></td>
             <td></td>
         </tr>
     </table>
     
   - 客户现场返回的问题U盘：
   
     <table>
         <caption>客户返回U盘信息统计</caption>
         <tr>
         	<th>客户名称</th>
             <th>反馈问题简述</th>
             <th>U盘信息</th>
         </tr>
         <!--SanDisk Udisk infomation-->
         <tr>
         	<td>产品线+客户名称</td>
             <td>问题概述</td>
             <td>品牌+USBx.x</td>
         </tr>
     </table>
   
     ​    
   
   - 产品线开发、测试反馈的问题U盘：
   
     <table>
         <caption>公司内部反馈U盘信息统计</caption>
         <tr>
         	<th>反馈人员</th>
             <th>反馈问题简述</th>
             <th>U盘信息</th>
         </tr>
         <tr>
         	<td>产品线+姓名</td>
             <td>问题概述</td>
             <td>品牌+USBx.x</td>
         </tr>

6. 测试方案适用范围：
   
   - USB问题排查过程；
   
   - 固件升级开发自测（全部测试内容）；
   - 测试组验收测试（部分测试内容，后续会标注）；
   
7. 不涉及Uboot、EBOOT下的性能、功能测试；

## 原则

1. 结合客户实际应用场景进行测试；
2. 测试指标以客户可以使用到的功能、进行的操作为准；
3. 结合客户、开发、测试人员反馈的U盘问题进行测试；
4. 结合USB问题排查过程中发现的易出现问题的节点进行测试；

## 说明

1. 本文档作为USB固件升级以及性能对比测试的通用说明文档，具体在产品升级的时候测试用例可依据实际产品情况进行修改；

   - 比如NK105E、NK260 A1与NK280B A1的USB部分硬件电路设计不同，所以NK280B A1还需要测试机背面的USB接口（虽然这个接口在理论上分析于前面板的USB接口无差异，且当作备用接口使用）；
   - NK210T、新代ARM一体机的性能对比测试与NK280B A1对比测试即可；
     - 三者都内部接了HUB，外留两个USB接口；
2. 本文档所涉及的测试项目、数据对比起到指导性、说明性的作用，详细的测试执行步骤会在**测试用例**中写明；
3. 本文档所涉及的测试项目中**“结果”**表项中的内容是**预期结果**、**实际的测试结**详见开发测执行记录表；
4. 本文档中测试项中的U盘容量、个数如果明确标注，应以当前已有的U盘样本进行测试（详见[U盘信息统计]("#udisk"));

   - 优先使用客户返回U盘、开发反馈问题U盘；
5. 本文档中测试项中**长时间**，具提是多长时间，目前并没有明确标准，之前在测试过程中一般已3天为参考，本次升级对于USB部分改动比较大，涉及点比较多，从严谨的角度考虑本次测试**暂定为7天**；
6. 本文档中测试项只是列出相关问题需要关注的测试点，实际测试中各项测试任务可以依据实际情况穿插进行，不必测完一部分再测试下一部分；
7. 本文档中测试项中涉及到**时间测试**的任务，时间记录到xx.x(s)即可；

## 测试方案

### U盘识别

1. 测试场景描述
   - 实际客户使用过程中可能会出现的应用场景：
     - **带着U盘启动机器**；
       - 有客户反馈带着U盘启动，U盘不识别，重新插拔即可识别；
     - **在启动机器过程中插入U盘**；
       - 情况与1类似；
     - **机器开启后插入U盘（间隔时间较短）**；
     - **长时间开机（运行刀路或者是未加工状态）后插入U盘**；
       - 有客户反馈，刀路运行完之后需要插入U盘重新拷贝刀路，插入U盘不识别，断电重启之后可以正常识别；
     - **长时间开机（本地加载到刀路运行或者是未加工状态）且插着U盘**；
       - 有可户反馈NK280B A1机器本地加载刀路运行且U盘一直插再机器上，再使用时发现”移动盘“界面已经没有U盘文件内容，重新插拔不可识别，重启机器才可识别；
       - 有可户反馈NK280B机器开机没有运行刀路且U盘一直插再机器上，次日早上加工的时候，发现”移动盘“界面已经没有U盘文件内容，重新插拔不可识别，重启机器才可识别，再NK280B机器背面的USB口接USB设备，再在机器面板上的USB口上插入U盘可以识别；
     - **NcStudio软件启动之后在”移动盘“界面插拔U盘**；
       - 客户(远洋终端客户）反馈开机(NK280B A1)->软件启动-插入U盘->切换到”程序->移动硬盘“界面可以正常看到U盘内容->切换到非“移动盘”界面->拔出U盘，更新U盘中的内容->插入U盘->切换到“移动盘”界面->显示上一次U盘的内容；--客户以为时U盘不识别；
       - 客户反馈在“移动盘”界面重新插拔U盘（上一次正常识别），移动盘界面只显示容量信息，没有显示U盘内容信息，需要切换到其它界面然后在切换回“移动盘”界面才能显示刚插入U盘的内容；
     - **快速插拔**<font color=red>（**该项只作为固件开发自测的补充测试内容**）</font>
       - 客户反馈在使用时插入U盘，切换到“移动盘”界面，发现没有显示U盘内容，拔出U盘重新插入，如此往复且插拔间隔时间比较短（基本上就是拔出立马插入），U盘一直无法识别，后更换其它U盘尝试也无法识别，断电重启之后使用其它U盘可以识别；
         - 这样操作极易造成“快速插拔”，结果可能只是U盘无发识别，也可能是系统死机；
     - **一体机接USB延长线**：
       - 客户反馈（河南鑫增等离子切割），机床加工过程中机床抖动且同一个U盘有时能识别，有时不能识别；
         - 由于机场机构问题客户所使用NK105E控制盒装再机床尾部，通过一根于1.5M长的USB延长线将USB接口引出，USB延长线还于其它强电线缠绕在一起；
       - 客户反馈NK105E使用USB延长线接口引出，插入U盘部不识别，后将U盘直接插在一体机的USB接口，可以正常识别；
     - **U盘覆盖率**：
       - 实际客户使用中所使用的U盘质量、品牌、容量差异性很大；
       - 优先使用客户、产品线反馈的问题U盘进行测试；
   - 开发过程可能出现的使用场景：
     - **开启OTG调试接口，接入U盘**<font color=red>（**该项只作为固件开发自测的补充测试内容**）</font>；
       - 我司基于"Wince+A8"的平台的NcStdido软件开发人员所使用的Wince 镜像为debug版本，相对于release版本增加了OTG功能；’
       - 在USB问题排查过程中发现，如果使用OTG功能，BOT传输过程会出错可能会影响U盘的识别；
     - **USB口外接HUB,HUB上接有HID设备，接入U盘**；
       - Wince固件开发、问题排查可能需要开启Wince系统的“桌面”、“任务管理器”等功能，需要插入键鼠设备进行操作，所以会在USB接口上接一个HUB，然后将HID设备接入到HUB上，需要访问U盘时，将U盘也接到该HUB，该使用场景可能会造成U盘的不识别；

2. 测试任务

   - 识别：在“移动盘”界面显示正确的U盘容量信息，U盘文件信息

     <table>
         <caption>U盘识别测试</caption>
         <tr>
         	<th>编号</th>
             <th>描述</th>
             <th>预期结果</th>
         </tr>
     <!--taskcase_001-->
         <tr>
             <td>TaskCase_001</td>
             <td>1.插入U盘，
                 2.上电启动机器
                 3.在移动硬盘界面下查看U盘是否识别。
             </td>
             <td>识别</td>
         </tr>
     <!--taskcase_002-->
         <tr>
             <td rowspan="2">TaskCase_002</td>
             <td >1.上电启动机器;
                 2.在显示完"weihong"logo之后马上插入U盘；
                 3.在移动硬盘界面下查看U盘是否识别。
             </td>
             <td>识别</td>
         </tr>
     <!--taskcase_002-->
         <tr>
             <td >1.上电启动机器;
                 2.显示完"NCstudio"logo之后马上插入U盘；
                 3.在移动硬盘界面下查看U盘是否识别。
             </td>
              <td>识别</td>
         </tr> 
     <!--taskcase_003-->
         <tr>
             <td  rowspan="2">TaskCase_003</td>
             <td >1.上电启动机器;
                 2.在移动盘界面插入U盘，待显示出U盘内容之后，拔出U盘，再插入；
                 3.在移动硬盘界面下查看U盘是否识别。
             </td>
             <td>识别</td>
         </tr> 
     <!--taskcase_003-->
         <tr>
             <td >1.上电启动机器;
                 2.在移动盘界面插入U盘，待显示出U盘内容之后，切换到其它界面，拔出U盘，再插入；
                 3.在移动硬盘界面下查看U盘是否识别。
             </td>
             <td>识别</td>
         </tr> 
     <!--taskcase_004-->
         <tr>
             <td rowspan=4>TaskCase_004</td>
             <td >1.上电启动机器;
                 2.长时间运行刀路，在刀路运行过程中随机插入U盘；
                 3.在移动硬盘界面下查看U盘是否识别(查看结果之后拔出U盘)。
             </td>
             <td>识别</td>
         </tr> 
     <!--taskcase_004-->
         <tr>
             <td >1.上电启动机器;
                 2.长时间运行刀路，在刀路运行过程中随机插入U盘；
                 3.在移动硬盘界面下查看U盘是否识别(查看结果之后U盘继续插在机器上)。
             </td>
             <td>识别</td>
         </tr> 
     <!--taskcase_004-->
         <tr>
             <td >1.上电启动机器;
                 2.长时间待机，在此过程中随机插入U盘；
                 3.在移动硬盘界面下查看U盘是否识别(查看结果之后拔出U盘)。
             </td>
             <td>识别</td>
         </tr>
     <!--taskcase_004-->
         <tr>
             <td >1.上电启动机器;
                 2.长时间待机，在此过程中随机插入U盘；
                 3.在移动硬盘界面下查看U盘是否识别(查看结果之后U盘继续插在机器上)。
             </td>
             <td>识别</td>
         </tr>
     <!--taskcase_005-->
         <tr>
             <td rowspan=2>TaskCase_005</td>
             <td >1.一体机外接80cmUSB延长线；
                 2.上电启动机器，待软件启动后，插入U盘；
                 3.在移动硬盘界面下查看U盘是否识别。
             </td>
             <td>识别</td>
         </tr>  
     <!--taskcase_005-->
         <tr>
             <td >1.一体机外接5M USB延长线；
                 2.上电启动机器，待软件启动后，插入U盘；
                 3.在移动硬盘界面下查看U盘是否识别。
             </td>
             <td>识别</td>
         </tr> 
     <!--taskcase_006-->
         <tr>
             <td rowspan=2>TaskCase_006</td>
             <td >1.一体机外接HUB(线长0.5M)，接HID设备；
                 2.上电启动机器，待软件启动后，插入U盘；
                 3.在移动硬盘界面下查看U盘是否识别。
             </td>
             <td>识别</td>
         </tr>  
     <!--taskcase_006-->
         <tr>
             <td >1.一体机外接HUB(线长5M),接HID设备；
                 2.上电启动机器，待软件启动后，插入U盘；
                 3.在移动硬盘界面下查看U盘是否识别。
             </td>
             <td>识别</td>
         </tr> 
     <!--taskcase_007-->
         <tr>
             <td rowspan=2>TaskCase_007</td>
             <td >1.一体机外接OTG调试；
                 2.上电启动机器，待软件启动后，插入U盘；
                 3.在移动硬盘界面下查看U盘是否识别。
             </td>
             <td>识别</td>
         </tr> 
      <!--taskcase_007--> 
           <tr>
             <td >1.一体机外接OTG调试接口；
                 2.上电启动机器，待软件启动后，重新插拔OTG，插入U盘；
                 3.在移动硬盘界面下查看U盘是否识别。
             </td>
             <td>识别</td>
         </tr> 
     <!--taskcase_008--> 
           <tr>
             <td rowspan=2>TaskCase_008</td>
             <td >1.上电启动机器，待软件启动后，插入U盘，待U盘内容正常显示之后，拔出U盘；
                 2.待软件界面提示“读取存储空间失败”对话框之后，确认对话框，再插入，如此往复10次；
                 3.在移动硬盘界面下查看U盘是否识别。
             </td>
             <td>识别</td>
         </tr> 
     </table>
   
3. 说明：
   
   - 测试任务部分是以“测试场景”中的实际应用为例，部分参考了当前测试组的验收标准；
   - 测试任务的**“结果”**表项内容为该项任务的**“预期结果”**，实际结果在**“测试执行表”**中给出；
   - 对于TaskCase_008：快速插拔对于wince系统来说本身就不支持，该测试项的目的：
     - 测试当前对快速插拔问题的优化程度；
     - 测试一个相对稳定的USB设备插拔时机（时间间隔），后续在“USB使用指导说明”中给出；

### U盘读操作

1. 测试场景描述
   - **U盘加载、运行刀路**：
     - 在”移动盘“界面下执行”加载刀路“：
       - 客户反馈，在“移动盘”界面下点击”加载刀路”按键之后，系统卡死（**非ENG格式刀路**）；
       - 客户反馈，加载U盘中的ENG刀路，系统卡死；
     - U盘加载、运行刀路；
       - 开发、测试过程发现长时间从U盘加载、运行刀路，加工进给速度会变为0即停止加工（3天必现）；
       - 木工客户反馈（NK260 A1），直接从U盘加载、运行刀路（非长时间运行），系统卡死，更换一体机之后,U盘加载刀路系统依旧会卡死，后将刀路文件拷贝到本地，本地加载运行刀路，没有再出现系统卡死；
   - **执行“拷贝文件到本地“功能**：
     - 客户反馈，在“移动盘”界面下点击拷贝到本地”按键之后，系统卡死；
     - 开发、测试过程发现将到刀路文件拷贝到本地之后，本地刀路文件与U盘中的有差异**（本地文件出错）**；
   
2. 测试任务

   <table>
       <!-- title-->
       <caption>U盘读测试</caption>
       <!--header -->
       <tr>
           <th>任务</th>
           <th>描述</th>
           <th>预期结果</th>
       </tr>
    <!--taskcase_001 -->
       <tr>
           <td>TaskCase_001</td>
           <td>1.上电启动机器，待软件启动之后，插入U盘；
          		2.在“移动盘”界面，执行“拷贝到本地”；
           	3.刀路格式、大小、U盘不同。</td>
           <td>可以正常拷贝</td>
       </tr>
    <!-- taskcase_002 -->
       <tr>
           <td>TaskCase_002</td>
           <td>1.上电启动机器，待软件启动之后，插入U盘；
               2.在“移动盘”界面，执行“加载刀路”；
               3.刀路格式、大小、U盘不同。
           </td>
           <td>可以正常加载</td>
       </tr>
   <!-- taskcase_003 -->
       <tr>
           <td>TaskCase_003</td>
           <td>1.上电启动机器，待软件启动之后，插入U盘；
               2.在“本地文件”界面，执行“拷贝到移动盘”；
               3.刀路格式、大小、U盘不同。
           </td>
           <td>可以正常拷贝</td>
       </tr>
   <!-- taskcase_004 -->
       <tr>
           <td>TaskCase_004</td>
           <td>1.在taskcase_003的基础上，对比拷贝到移动硬盘文件原始文件；
           </td>
           <td>文件内容相同</td>
       </tr>
   <!-- taskcase_005 -->
       <tr>
           <td>TaskCase_005</td>
           <td>1.从移动盘直接加载、运行刀路；
               2.选择一个“循坏”刀路长时间运行；
           </td>
           <td>可以正常运行</td>
       </tr>
   <!-- taskcase_006 -->
       <tr>
           <td>TaskCase_006</td>
           <td>1.从移动盘直接加载、运行刀路；
               2.选择一个刀路设置“最大循环次数”长时间运行；
           </td>
           <td>可以正常运行</td>
       </tr>
   </table>

3. 说明

   - 测试任务中提到的“刀路格式、大小、U盘不同”，（**暂时先大概说明，后续列出测试使用刀路**）：
     - 刀路格式:\*.nc，\*.ENG;
       - 目前客户常用刀路格式；
     - 刀路大小：100KB、1MB、10MB、50MB、400MB;
       - 客户常用刀路大概就是几十KB左右；
       - 一些小的ENG格式刀路大概就10M左右；
       - 当前ARM（Wince-A8）一体机器NandFlash对用户可见容量约470MB，目前已知**（个人了解到）**的客户最大使用的刀路越380MB，所以选用400MB刀路测试；
     - U盘不同：如无特殊说明，当前已有的所有测试U盘为测试样本；
       - 单个U盘的测试次数**暂定为3**;
       - 测试中尽量不要同一个U盘持续执行N次，最好可以测试完1次1号U盘，再测2号一次，再测3号一次，再测1号的第2次，间隔测试；
   - TaskCase_005、TaskCase_006：
     - 在具体执行的时候各选取2个不同容量的“Sandisk ”U盘进行测试即可；
     - 暂定各两台机器（看实际情况增加样本数量）；

### U盘写操作

1. 测试场景描述
   - **备份导出软件**:
     - 客户、开发、测试中均有反馈，在软件BOOT界面下，打包软件失败；
   - **拷贝刀路到移动盘**:
     -  一例客户现场U盘，在执行写操作之后，U盘内文件“乱码”；
     - NK105E四轴项目验收测试时，对一款Sandisk U盘执行“拷贝文件到移动盘”操作，系统死机，拔出U盘之后系统恢复正常，U盘内文件“乱码”；
     - 木工产品线测试U盘加载、运行ENG刀路时，发现U盘内文件乱码且U盘被“写保护”；
   
2. 测试任务

   <table>
       <!-- title-->
       <caption>U盘写测试</caption>
       <tr>
           <th>任务</th>
           <th>描述</th>
           <th>结果</th>
       </tr>   
    <!-- TaskCase_001-->
   <tr>
       <td>TaskCase_001</td>
       <td>1.在“移动盘”界面执行，“拷贝到移动盘”功能
       2.完成1之后，将U盘插入到PC机，观察文件列表是否正常
           ，拷贝出来的文件是否于源文件相同；
       3.不同U盘测试；
       </td>
       <td>拷贝正常，文件正常</td>
   </tr> 
    <!-- TaskCase_002-->
   <tr>
       <td>TaskCase_002</td>
       <td>1.在“软件BOOT”界面执行，“备份软件”功能
       2.观察备份过程是否正常，注意“USB设备可以使用”字样；
           3.不同U盘测试；
       </td>
       <td>正常备份</td>
   </tr> 
    <!-- TaskCase_003-->
   <tr>
       <td>TaskCase_003</td>
       <td>1.上电启动机器，U盘长时间加载较大（刀路后面指明）的ENG刀路；
           2.不同U盘测试；
       </td>
       <td>正常运行，运行完成之后U盘正常</td>
   </tr> 
   </table>

3. 说明
   - 不同U盘：
     - 当前已有的所有测试U盘为测试样本；
       - 优先使用"Sandisk"品牌U盘；
       - 当个U盘测试次数：3次；
     - TaskCase_003：在具体执行的时候选取3个不同容量的“Sandisk ”U盘进行测试即可；

## 性能对比

### 识别时间

1. 以插入设备到“移动盘”界面下可以正常显示文件内容的时间段为准；

2. 测试U盘：

   - 当前已有样本U盘中各品牌选取一个；
     - 同一品牌有多个不同容量的选取优先级:32G->16G->其它;

   - 测试前U盘格式化成FAT32格式；
   - U盘内放置文件要相同；

3. 单个U盘测试3次，时间取平均值；

4. 单个机型取平均值；

5. **当前已有的U盘样本中Sandisk U盘有16GB、32GB、64GB、128GB、256GB，测试不同容量是否对识别有影响**;

   - 理论上分析不同容量对系统识别U盘没有任何影响，但是客户是已软件“移动盘界面”看到U盘文件内容为参考；
- 测试前U盘格式化成FAT32格式；
   - U盘内放置文件要相同；
   
   <table>
       <caption>不同容量U盘对识别时间的影响</caption>
       <tr>
           <th>机型</th>
           <th>16GB(s)</th>
           <th>32GB(s)</th>
           <th>64GB(s)</th>
           <th>128GB(s)</th>
           <th>256(s)</th>
           <th>识别时间</th>
       </tr>
        <tr>
           <th>NK280B A1</th>
           <th>0</th>
           <th>0</th>
           <th>0</th>
           <th>0</th>
           <th>0</th>
           <th>0</th>
       </tr>
       <tr>
           <th>新代</th>
           <th>0</th>
           <th>0</th>
           <th>0</th>
           <th>0</th>
           <th>0</th>
           <th>0</th>
      </tr>
      <tr>
       <th>NK210T</th>
       <th>0</th>
       <th>0</th>
       <th>0</th>
       <th>0</th>
       <th>0</th>
       <th>0</th>
   </tr>
   </table>
   
   <table>
       <caption>识别时间测试</caption>
       <tr>
           <th>机型</th>
           <th>1号U盘(/s)</th>
           <th>1号U盘(/s)</th>
           <th>1号U盘(/s)</th>
           <th>1号U盘(/s)</th>
           <th>...</th>
           <th>识别时间(/s)</th>
       </tr>
       <tr>
       	<th>NK280B A1</th>
            <th>0</th>
           <th>0</th>
           <th>0</th>
           <th>0</th>
           <th>...</th>
           <th>0</th>
       </tr>
         <tr>
       	<th>新代</th>
            <th>0</th>
           <th>0</th>
           <th>0</th>
           <th>0</th>
           <th>...</th>
           <th>0</th>
       </tr>
        <tr>
       	<th>NK210T</th>
            <th>0</th>
           <th>0</th>
           <th>0</th>
           <th>0</th>
           <th>...</th>
           <th>0</th>
    </tr>
   </table>
   
   

### 读速度

1. 测试U盘：Sandisk 3.0 U盘（暂定公司IT部申请的那款）
2. 测试已“拷贝文件到移动盘”功能为准；
3. 只算单个的拷贝文件时间不算文件的“覆盖时间”；
4. 单个文件拷贝3次取平均值；
5. 单个机型取平均值；
6. 新代ARM(Wince+A8)机器的Nandflash最大容量256MB；

 <table>
       <caption>读速度测试</caption>
       <tr>
           <th>机型</th>
           <th>5MB</th>
           <th>50MB</th>
           <th>200MB</th>
           <th>平均速度</th>
       </tr>
       <tr>
       <td>NK280B A1</td>
       <td>0MB/s</td>
       <td>0MB/s</td>
       <td>0MB/s</td> 
       <td>0MB/s</td>
   </tr>
   <tr>
       <td>新代</td>
       <td>0MB/s</td>
       <td>0MB/s</td>
       <td>0MB/s</td>
        <td>0MB/s</td>
   </tr>
   <tr>
       <td>NK210T</td>
       <td>0MB/s</td>
       <td>0MB/s</td>
       <td>0MB/s</td>
        <td>0MB/s</td>
   </tr>
</table>

### 写速度

1. 测试U盘：Sandisk 3.0 U盘（暂定公司IT部申请的那款）

2. 测试已“拷贝文件到本地”功能为准；

3. 只算单个的拷贝文件时间不算文件的“覆盖时间”；

4. 为避免磁盘“垃圾回收”可能会影响到测试的时间，在测试前先删除本地文件；

5. 单个文件拷贝3次取平均值；

6. 单个机型的最后已次数度取平均值；

    <table>
          <caption>写速度测试</caption>
          <tr>
              <th>机型</th>
              <th>5MB</th>
              <th>50MB</th>
              <th>200MB</th>
              <th>平均速度</th>
          </tr>
          <tr>
          <td>NK280B A1</td>
          <td>0MB/s</td>
          <td>0MB/s</td>
          <td>0MB/s</td> 
          <td>0MB/s</td>
      </tr>
      <tr>
          <td>新代</td>
          <td>0MB/s</td>
          <td>0MB/s</td>
          <td>0MB/s</td>
           <td>0MB/s</td>
      </tr>
      <tr>
          <td>NK210T</td>
          <td>0MB/s</td>
          <td>0MB/s</td>
          <td>0MB/s</td>
           <td>0MB/s</td>
      </tr>
   </table>

   

### 其它项

 <table>
       <caption>其它功能测试</caption>
       <tr>
           <th>机型</th>
           <th>U盘加载、运行刀路</th>
           <th>快速插拔是否会死机</th>
           <th>移动盘页面是否自动刷新文件内容</th>
           <th>拷贝超出磁盘空间容量的刀路时是否提示</th>
           <th>是否支持HID设备操作</th>
           <th>两个USB接口都接U盘的情况</th>
           <th>支持文件系统格式</th>
           <th>支持U盘容量范围</th>
           <th>容错能力</th>
       </tr>
       <tr>
       <td>NK280B A1</td>
       <td>yes/no</td>
       <td>yes/no</td>
       <td>yes/no</td> 
       <td>yes/no</td>
       <td>yes/no</td> 
       <td>未知</td>
       <td>未知</td>
       <td>未知</td>
       <td>未知</td>
   </tr>
   <tr>
       <td>新代</td>
       <td>yes/no</td>
       <td>yes/no</td>
       <td>yes/no</td> 
       <td>yes/no</td>
       <td>yes/no</td> 
       <td>未知</td>
       <td>未知</td>
       <td>未知</td>
       <td>未知</td>
   </tr>
   <tr>
       <td>NK210T</td>
       <td>yes/no</td>
       <td>yes/no</td>
       <td>yes/no</td> 
       <td>yes/no</td>
       <td>yes/no</td> 
       <td>未知</td>
       <td>未知</td>
       <td>未知</td>
       <td>未知</td>
   </tr>
</table>

1. 移动盘页面是否自动刷新文件内容：在“移动盘”界面重新插拔U盘，U盘内容是否可以自动刷新；
2. 拷贝超出磁盘空间容量的刀路时是否提示：在拷贝动作开始前是否会提示；
3. 是否支持HID设备操作：当前版本镜像直接在USB接口接入HID设备，是否可以直接操作软件，或者会导致哪些行为；
4. 两个USB接口都接U盘的情况：“移动盘”界面显示的内容，把掉一个另外一个的内容会不会自动显示等等；
5. 支持U盘容量范围：目前司已有的最大U盘容量256GB、最小U盘容量512MB；
6. 容错能力：USB接口接入”未知“USB设备或者已经损坏的USB设备之后，再插入正常的U盘，是否能识别；

### 结论

<table>
    <caption>性能对比</caption>
    <tr>
        <th>指标</th>
        <th>NK280B A1</th>
        <th>新代</th>
        <th>NK210T</th>
    </tr>
<tr>
    <th>读速度(MB/s)</th>
    <td>0</td>
    <td>0</td>
    <td>0</td>
</tr>
<tr>
    <th>写速度(MB/s)</th>
    <td>0</td>
    <td>0</td>
    <td>0</td>
</tr>
<tr>
    <th>识别时间(s)</th>
    <td>0</td>
    <td>0</td>
    <td>0</td>
</tr>
<tr>
    <th>快速插拔是否会死机</th>
    <td>yes/no</td>
    <td>yes/no</td>
    <td>yes/no</td>
</tr>
<tr>
    <th>U盘加载、运行刀路</th>
    <td>yes/no</td>
    <td>yes/no</td>
    <td>yes/no</td>
</tr>
<tr>
    <th>移动盘页面是否自动刷新文件内容</th>
    <td>yes/no</td>
    <td>yes/no</td>
    <td>yes/no</td>
</tr>
<tr>
    <th>拷贝超出磁盘空间容量的刀路时是否提示</th>
    <td>yes/no</td>
    <td>yes/no</td>
    <td>yes/no</td>
</tr>
<tr>
    <th>是否支持HID设备操作</th>
    <td>yes/no</td>
    <td>yes/no</td>
    <td>yes/no</td>
</tr>
<tr>
    <th>两个USB接口都接U盘的情况</th>
    <td>未知</td>
    <td>未知</td>
    <td>未知</td>
</tr>
<tr>
    <th>支持文件系统类型</th>
    <td>未知</td>
    <td>未知</td>
    <td>未知</td>
</tr>
<tr>
    <th>支持U盘容量范围</th>
    <td>未知</td>
    <td>未知</td>
    <td>未知</td>
</tr>
<tr>
    <th>容错能力</th>
    <td>未知</td>
    <td>未知</td>
    <td>未知</td>
</tr>  
</table>







## 总结



